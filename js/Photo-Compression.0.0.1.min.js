/*!
 *  Photo-Compression.js v0.0.1 (https://github.com/zhetengbiji/Photo-Compression.js)
 *  作者微博：折腾笔记
  */
function compressImage(a,g,b){function e(a){var b=new Image;b.onload=function(){var d,a;d=b.width*c.scale;a=b.height*c.scale;c.maxWidth&&(a*=c.maxWidth/d,d=c.maxWidth);c.maxHeight&&(d*=c.maxHeight/a,a=c.maxHeight);var f=document.createElement("canvas"),e=f.getContext("2d");f.width=d;f.height=a;e.drawImage(b,0,0,d,a);d=f.toDataURL("image/jpeg",c.quality);"function"===typeof g&&g(d)};b.src=a}var c={quality:.8,scale:1};b&&(c={quality:b.quality||.8,maxWidth:b.maxWidth,maxHeight:b.maxHeight,scale:b.scale||1});"object"===typeof a?(a=window.URL.createObjectURL(a),e(a)):"string"===typeof a&&e(a)};